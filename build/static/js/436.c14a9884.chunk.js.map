{"version":3,"file":"static/js/436.c14a9884.chunk.js","mappings":"iPAQMA,GAAaC,EAAAA,EAAAA,KAAS,WAC1B,OAA8CC,EAAAA,EAAAA,MAAtCC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,cAAeC,EAAhC,EAAgCA,UAChC,GAA+BC,EAAAA,EAAAA,UAAgB,IAA/C,eAAOC,EAAP,KAAiBC,EAAjB,MACAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,mCAAG,8FACZP,IADY,OAElBC,GAAc,SAACO,GACbC,QAAQC,IAAIF,EAAKG,SACjBN,GAAW,SAACO,GAAD,wBAAmBA,GAAnB,CAAyBJ,EAAKG,gBAJzB,2CAAH,qDAQjB,OADAJ,IACO,WACLE,QAAQC,IAAI,mDAEb,IACH,OAAwBP,EAAAA,EAAAA,UAAS,IAAjC,eAAOU,EAAP,KAAaC,EAAb,KAQA,OACE,iBAAKC,UAAU,WAAf,WACE,SAAC,KAAD,CAAWC,MAAM,6BAAcC,SAC7B,SAAC,KAAD,CAAkBC,YAAa,CAAC,gBAAhC,UACE,SAAC,KAAD,CAAMC,GAAI,eAAgBJ,UAAU,kBAApC,oCAGJ,iBAAKA,UAAU,cAAf,WACE,SAAC,KAAD,CACEK,MAAOP,EACPQ,SAAU,SAAAC,GAAC,OAAIR,EAAQQ,EAAEC,OAAOH,QAChCI,YAAY,WAEd,SAAC,KAAD,CACER,MAAM,OACNS,KAAK,SACLC,QAvBc,WACpBxB,EAAU,CACRyB,SAAU,EACVC,IAAKf,IAEPC,EAAQ,WAqBN,wBAEIV,EAASyB,KAAI,SAACC,EAAcC,GAAf,aACX,yBACE,4BACE,kBAAMhB,UAAU,eAAhB,oBAAgCe,EAAQE,YAAxC,aAAgC,EAAcC,SAA9C,QACA,0BAAOH,EAAQF,UAHVG,cAarB","sources":["app/pages/brands/BrandsPage.tsx"],"sourcesContent":["import { observer } from \"mobx-react-lite\";\nimport { ButtonLoading, Input, PermissionLayout, TitlePage } from \"../../components\";\nimport { Link } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { useSocketService } from \"../../hooks\";\nimport { IResponse } from \"../../interfaces\";\n\n\nconst BrandsPage = observer(() => {\n  const { connect, onEmitMessage, doMessage } = useSocketService()\n  const [messages, setMessage] = useState<any[]>([])\n  useEffect(() => {\n    const setupSocket = async () => {\n      await connect();\n      onEmitMessage((data: IResponse<any>) => {\n        console.log(data.context);\n        setMessage((prev: any) => [...prev, data.context])\n      });\n    };\n    setupSocket();\n    return () => {\n      console.log(\"Component unmounted, socket disconnecting...\");\n    };\n  }, []);\n  const [text, setText] = useState('')\n  const onSendMessage = () => {\n    doMessage({\n      topic_id: 1,\n      msg: text\n    });\n    setText('')\n  }\n  return (\n    <div className=\"card p-3\">\n      <TitlePage title=\"Thương hiệu\" element={\n        <PermissionLayout permissions={['.brands.post']}>\n          <Link to={'/brands-form'} className=\"btn btn-primary\">Tạo mới</Link>\n        </PermissionLayout>\n      } />\n      <div className=\"d-flex mt-6\">\n        <Input\n          value={text}\n          onChange={e => setText(e.target.value)}\n          placeholder=\"Aa...\"\n        />\n        <ButtonLoading\n          title=\"Send\"\n          type=\"button\"\n          onClick={onSendMessage}\n        />\n      </div>\n      <ul>\n        {\n          messages.map((message: any, index) => (\n            <li key={index}>\n              <div>\n                <span className=\"fw-bold me-2\">{message.user?.fullname}:</span>\n                <span>{message.msg}</span>\n              </div>\n            </li>\n          ))\n        }\n      </ul>\n    </div>\n  )\n})\n\nexport default BrandsPage;"],"names":["BrandsPage","observer","useSocketService","connect","onEmitMessage","doMessage","useState","messages","setMessage","useEffect","setupSocket","data","console","log","context","prev","text","setText","className","title","element","permissions","to","value","onChange","e","target","placeholder","type","onClick","topic_id","msg","map","message","index","user","fullname"],"sourceRoot":""}