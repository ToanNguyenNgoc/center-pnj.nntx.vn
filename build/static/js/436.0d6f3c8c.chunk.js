"use strict";(self.webpackChunkadmin_pnj_nntx_vn=self.webpackChunkadmin_pnj_nntx_vn||[]).push([[436],{6436:function(n,e,t){t.r(e);var i=t(2982),o=t(5861),s=t(885),c=t(4687),r=t.n(c),u=t(7257),a=t(92),l=t(3504),d=t(2791),p=t(8199),f=t(184),m=(0,u.Pi)((function(){var n=(0,p.aC)().profile,e=(0,p.Ps)(),t=e.connect,c=e.onListenerTopicCreated,u=e.onListenerMessage,m=e.onListenerTyping,x=e.doCreateTopic,g=e.doMessage,h=e.doTyping,v=(0,d.useState)([]),j=(0,s.Z)(v,2),_=j[0],y=j[1],b=(0,d.useState)(),C=(0,s.Z)(b,2),k=C[0],w=C[1];(0,d.useEffect)((function(){var n=function(){var n=(0,o.Z)(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:c((function(n){console.log(n)})),u((function(n){console.log(n.context),y((function(e){return[].concat((0,i.Z)(e),[n.context])}))})),m((function(n){console.log(n.context),n.context.is_typing?w(n.context.user):w(void 0)}));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){console.log("Component unmounted, socket disconnecting...")}}),[]);var T=(0,d.useState)(""),L=(0,s.Z)(T,2),N=L[0],Z=L[1];return(0,f.jsxs)("div",{className:"card p-3",children:[(0,f.jsx)(a.LL,{title:"Th\u01b0\u01a1ng hi\u1ec7u",element:(0,f.jsx)(a.yt,{permissions:[".brands.post"],children:(0,f.jsx)(l.rU,{to:"/brands-form",className:"btn btn-primary",children:"T\u1ea1o m\u1edbi"})})}),(0,f.jsxs)("ul",{children:[_.map((function(n,e){var t;return(0,f.jsx)("li",{children:(0,f.jsxs)("div",{children:[(0,f.jsxs)("span",{className:"fw-bold me-2",children:[null===(t=n.user)||void 0===t?void 0:t.fullname,":"]}),(0,f.jsx)("span",{children:n.msg})]})},e)})),k&&k.id!==(null===n||void 0===n?void 0:n.id)&&(0,f.jsx)("li",{children:(0,f.jsxs)("span",{className:"fw-bold",children:[k.fullname," typing..."]})})]}),(0,f.jsxs)("div",{className:"d-flex mt-6",children:[(0,f.jsx)(a.II,{value:N,onChange:function(n){return Z(n.target.value)},placeholder:"Aa...",onFocus:function(){return h({is_typing:!0,topic_id:1})},onBlur:function(){return h({is_typing:!1,topic_id:1})}}),(0,f.jsx)(a.dw,{title:"Send",type:"button",onClick:function(){g({topic_id:1,msg:N}),Z("")}})]}),(0,f.jsx)(a.dw,{title:"create topic",type:"button",onClick:function(){return x({recipient_id:6,media_id:1,msg:"OK",group_name:"group name"})}})]})}));e.default=m}}]);
//# sourceMappingURL=436.0d6f3c8c.chunk.js.map