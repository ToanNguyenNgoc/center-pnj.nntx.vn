"use strict";(self.webpackChunkadmin_pnj_nntx_vn=self.webpackChunkadmin_pnj_nntx_vn||[]).push([[248],{3248:function(e,s,l){l.r(s),l.d(s,{default:function(){return A}});var a=l(2791),i=l(6871),r=l(4880),n=l(7257),o=l(3504),d=l(8544),c=l(184),t=(0,n.Pi)((function(){var e=(0,d.a)(),s=e.profile,l=e.roles;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"card mb-5 mb-xl-10",id:"kt_profile_details_view",children:[(0,c.jsxs)("div",{className:"card-header cursor-pointer",children:[(0,c.jsx)("div",{className:"card-title m-0",children:(0,c.jsx)("h3",{className:"fw-bolder m-0",children:"Profile Details"})}),(0,c.jsx)(o.rU,{to:"/crafted/account/settings",className:"btn btn-primary align-self-center",children:"Edit Profile"})]}),(0,c.jsxs)("div",{className:"card-body p-9",children:[(0,c.jsxs)("div",{className:"row mb-7",children:[(0,c.jsx)("label",{className:"col-lg-4 fw-bold text-muted",children:"Full Name"}),(0,c.jsx)("div",{className:"col-lg-8",children:(0,c.jsx)("span",{className:"fw-bolder fs-6 text-dark",children:null===s||void 0===s?void 0:s.fullname})})]}),(0,c.jsxs)("div",{className:"row mb-7",children:[(0,c.jsx)("label",{className:"col-lg-4 fw-bold text-muted",children:"Email"}),(0,c.jsx)("div",{className:"col-lg-8 fv-row",children:(0,c.jsx)("span",{className:"fw-bold fs-6",children:null===s||void 0===s?void 0:s.email})})]}),(0,c.jsxs)("div",{className:"row mb-7",children:[(0,c.jsxs)("label",{className:"col-lg-4 fw-bold text-muted",children:["Contact Phone",(0,c.jsx)("i",{className:"fas fa-exclamation-circle ms-1 fs-7","data-bs-toggle":"tooltip",title:"Phone number must be active"})]}),(0,c.jsxs)("div",{className:"col-lg-8 d-flex align-items-center",children:[(0,c.jsx)("span",{className:"fw-bolder fs-6 me-2",children:null===s||void 0===s?void 0:s.telephone}),(0,c.jsx)("span",{className:"badge badge-success",children:"Verified"})]})]}),(0,c.jsxs)("div",{className:"row mb-7",children:[(0,c.jsx)("label",{className:"col-lg-4 fw-bold text-muted",children:"Roles"}),(0,c.jsx)("div",{className:"col-lg-8",children:(0,c.jsx)("span",{className:"fw-bolder fs-6 text-dark",children:l.map((function(e){return e.name})).join(", ")})})]})]})]})})})),m=l(1413),x=l(6863),h=l(5173),u=l(5987),v="avatar_container__nPb52",f=l(8289),b=["imageUrl","type","size"],p=function(e){var s=e.imageUrl,l=e.type,a=void 0===l?"square":l,i=e.size,r=(0,u.Z)(e,b);return(0,c.jsx)("img",(0,m.Z)((0,m.Z)({src:s,alt:r.alt,className:v,style:{borderRadius:"circle"===a?"100%":void 0,width:i}},r),{},{onError:f.A_}))},j="button-upload_container__8ntUR",g=l(2930),w=["id","size","onChangeFile"],N=function(e){var s=e.id,l=void 0===s?"media":s,a=e.size,i=void 0===a?36:a,r=e.onChangeFile,n=void 0===r?function(){return null}:r,o=(0,u.Z)(e,w);return(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{type:"file",id:l,hidden:!0,onChange:function(e){e.target.files&&n(e.target.files)}}),(0,c.jsx)("label",(0,m.Z)((0,m.Z)({htmlFor:l,className:j,style:{width:i}},o),{},{children:(0,c.jsx)("img",{style:{width:"75%",aspectRatio:"1/1",objectFit:"cover"},src:(0,g.BY)("/media/svg/files/camera.svg"),alt:""})}))]})},y=x.Ry().shape({fullname:x.Z_().required("Fullname is required"),email:x.Z_().required("Email is required").email("Email is invalidate"),telephone:x.Z_().required("Telephone is required").nullable(!0)}),_=(0,n.Pi)((function(){var e,s=(0,d.a)(),l=s.profile,a=s.setProfile,i=s.mutationPutProfile,r=(0,d.z)().handlePostMedia,n=(0,h.TA)({initialValues:{fullname:null===l||void 0===l?void 0:l.fullname,email:null===l||void 0===l?void 0:l.email,telephone:null===l||void 0===l?void 0:l.telephone},validationSchema:y,onSubmit:function(e){var s=e.fullname,a=e.email,r=e.telephone;i.mutate({fullname:s,email:(null===l||void 0===l?void 0:l.email)!==a?a:void 0,telephone:(null===l||void 0===l?void 0:l.telephone)!==r?r:void 0})}});return(0,c.jsxs)("div",{className:"card mb-5 mb-xl-10",children:[(0,c.jsx)("div",{className:"card-header border-0 cursor-pointer",role:"button","data-bs-toggle":"collapse","data-bs-target":"#kt_account_profile_details","aria-expanded":"true","aria-controls":"kt_account_profile_details",children:(0,c.jsx)("div",{className:"card-title m-0",children:(0,c.jsx)("h3",{className:"fw-bolder m-0",children:"Profile Details"})})}),(0,c.jsx)("div",{id:"kt_account_profile_details",className:"collapse show",children:(0,c.jsxs)("form",{onSubmit:n.handleSubmit,noValidate:!0,className:"form",children:[(0,c.jsxs)("div",{className:"card-body border-top p-9",children:[(0,c.jsxs)("div",{className:"row mb-6",children:[(0,c.jsx)("label",{className:"col-lg-4 col-form-label fw-bold fs-6",children:"Avatar"}),(0,c.jsxs)("div",{className:"col-lg-8",children:[(0,c.jsx)(p,{imageUrl:null===l||void 0===l||null===(e=l.media)||void 0===e?void 0:e.original_url,size:130}),(0,c.jsx)(N,{onChangeFile:function(e){l&&r({files:e,callBackLocal:function(e){a(Object.assign(l,{media:(0,m.Z)((0,m.Z)({},l.media),{},{original_url:e[0].origin_url})}))},callBackApi:function(e){i.mutate({media_id:e[0].id})}})}})]})]}),(0,c.jsxs)("div",{className:"row mb-6",children:[(0,c.jsx)("label",{className:"col-lg-4 col-form-label required fw-bold fs-6",children:"Full Name"}),(0,c.jsx)("div",{className:"col-lg-8",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col-lg-12 fv-row",children:[(0,c.jsx)("input",(0,m.Z)({type:"text",className:"form-control form-control-lg form-control-solid mb-3 mb-lg-0",placeholder:"Full name"},n.getFieldProps("fullname"))),n.touched.fullname&&n.errors.fullname&&(0,c.jsx)("div",{className:"fv-plugins-message-container",children:(0,c.jsx)("div",{className:"fv-help-block",children:n.errors.fullname})})]})})})]}),(0,c.jsxs)("div",{className:"row mb-6",children:[(0,c.jsx)("label",{className:"col-lg-4 col-form-label required fw-bold fs-6",children:"Company"}),(0,c.jsxs)("div",{className:"col-lg-8 fv-row",children:[(0,c.jsx)("input",(0,m.Z)({type:"text",className:"form-control form-control-lg form-control-solid",placeholder:"Email"},n.getFieldProps("email"))),n.touched.email&&n.errors.email&&(0,c.jsx)("div",{className:"fv-plugins-message-container",children:(0,c.jsx)("div",{className:"fv-help-block",children:n.errors.email})})]})]}),(0,c.jsxs)("div",{className:"row mb-6",children:[(0,c.jsx)("label",{className:"col-lg-4 col-form-label fw-bold fs-6",children:(0,c.jsx)("span",{className:"required",children:"Contact Phone"})}),(0,c.jsxs)("div",{className:"col-lg-8 fv-row",children:[(0,c.jsx)("input",(0,m.Z)({type:"tel",className:"form-control form-control-lg form-control-solid",placeholder:"Phone number"},n.getFieldProps("telephone"))),n.touched.telephone&&n.errors.telephone&&(0,c.jsx)("div",{className:"fv-plugins-message-container",children:(0,c.jsx)("div",{className:"fv-help-block",children:n.errors.telephone})})]})]})]}),(0,c.jsx)("div",{className:"card-footer d-flex justify-content-end py-6 px-9",children:(0,c.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:i.isLoading,children:[!i.isLoading&&"Save Changes",i.isLoading&&(0,c.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Please wait..."," ",(0,c.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})})]})})]})})),P=l(885),k={currentPassword:"",newPassword:"",passwordConfirmation:""},F=x.Ry().shape({currentPassword:x.Z_().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Password is required"),newPassword:x.Z_().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Password is required"),passwordConfirmation:x.Z_().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Password is required").oneOf([x.iH("newPassword"),null],"Passwords must match")}),Z=(0,n.Pi)((function(){var e=(0,d.a)(),s=e.profile,l=e.mutationPostChangePassword,i=(0,a.useState)(k),r=(0,P.Z)(i,1)[0],n=(0,a.useState)(!1),o=(0,P.Z)(n,2),t=o[0],x=o[1],u=(0,h.TA)({initialValues:(0,m.Z)({},r),validationSchema:F,onSubmit:function(e){l.mutateAsync({password:e.currentPassword,new_password:e.newPassword}).then(u.resetForm)}});return(0,c.jsxs)("div",{className:"card mb-5 mb-xl-10",children:[(0,c.jsx)("div",{className:"card-header border-0 cursor-pointer",role:"button","data-bs-toggle":"collapse","data-bs-target":"#kt_account_signin_method",children:(0,c.jsx)("div",{className:"card-title m-0",children:(0,c.jsx)("h3",{className:"fw-bolder m-0",children:"Sign-in Method"})})}),(0,c.jsx)("div",{id:"kt_account_signin_method",className:"collapse show",children:(0,c.jsxs)("div",{className:"card-body border-top p-9",children:[(0,c.jsx)("div",{className:"d-flex flex-wrap align-items-center",children:(0,c.jsxs)("div",{id:"kt_signin_email",children:[(0,c.jsx)("div",{className:"fs-6 fw-bolder mb-1",children:"Email Address"}),(0,c.jsx)("div",{className:"fw-bold text-gray-600",children:null===s||void 0===s?void 0:s.email})]})}),(0,c.jsx)("div",{className:"separator separator-dashed my-6"}),(0,c.jsxs)("div",{className:"d-flex flex-wrap align-items-center mb-10",children:[(0,c.jsxs)("div",{id:"kt_signin_password",className:" "+(t&&"d-none"),children:[(0,c.jsx)("div",{className:"fs-6 fw-bolder mb-1",children:"Password"}),(0,c.jsx)("div",{className:"fw-bold text-gray-600",children:"************"})]}),(0,c.jsx)("div",{id:"kt_signin_password_edit",className:"flex-row-fluid "+(!t&&"d-none"),children:(0,c.jsxs)("form",{onSubmit:u.handleSubmit,id:"kt_signin_change_password",className:"form",noValidate:!0,children:[(0,c.jsxs)("div",{className:"row mb-1",children:[(0,c.jsx)("div",{className:"col-lg-4",children:(0,c.jsxs)("div",{className:"fv-row mb-0",children:[(0,c.jsx)("label",{htmlFor:"currentpassword",className:"form-label fs-6 fw-bolder mb-3",children:"Current Password"}),(0,c.jsx)("input",(0,m.Z)({type:"password",className:"form-control form-control-lg form-control-solid ",id:"currentpassword"},u.getFieldProps("currentPassword"))),u.touched.currentPassword&&u.errors.currentPassword&&(0,c.jsx)("div",{className:"fv-plugins-message-container",children:(0,c.jsx)("div",{className:"fv-help-block",children:u.errors.currentPassword})})]})}),(0,c.jsx)("div",{className:"col-lg-4",children:(0,c.jsxs)("div",{className:"fv-row mb-0",children:[(0,c.jsx)("label",{htmlFor:"newpassword",className:"form-label fs-6 fw-bolder mb-3",children:"New Password"}),(0,c.jsx)("input",(0,m.Z)({type:"password",className:"form-control form-control-lg form-control-solid ",id:"newpassword"},u.getFieldProps("newPassword"))),u.touched.newPassword&&u.errors.newPassword&&(0,c.jsx)("div",{className:"fv-plugins-message-container",children:(0,c.jsx)("div",{className:"fv-help-block",children:u.errors.newPassword})})]})}),(0,c.jsx)("div",{className:"col-lg-4",children:(0,c.jsxs)("div",{className:"fv-row mb-0",children:[(0,c.jsx)("label",{htmlFor:"confirmpassword",className:"form-label fs-6 fw-bolder mb-3",children:"Confirm New Password"}),(0,c.jsx)("input",(0,m.Z)({type:"password",className:"form-control form-control-lg form-control-solid ",id:"confirmpassword"},u.getFieldProps("passwordConfirmation"))),u.touched.passwordConfirmation&&u.errors.passwordConfirmation&&(0,c.jsx)("div",{className:"fv-plugins-message-container",children:(0,c.jsx)("div",{className:"fv-help-block",children:u.errors.passwordConfirmation})})]})})]}),(0,c.jsx)("div",{className:"form-text mb-5",children:"Password must be at least 8 character and contain symbols"}),(0,c.jsxs)("div",{className:"d-flex",children:[(0,c.jsxs)("button",{id:"kt_password_submit",type:"submit",className:"btn btn-primary me-2 px-6",children:[!l.isLoading&&"Update Password",l.isLoading&&(0,c.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Please wait..."," ",(0,c.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]}),(0,c.jsx)("button",{onClick:function(){x(!1)},id:"kt_password_cancel",type:"button",className:"btn btn-color-gray-400 btn-active-light-primary px-6",children:"Cancel"})]})]})}),(0,c.jsx)("div",{id:"kt_signin_password_button",className:"ms-auto "+(t&&"d-none"),children:(0,c.jsx)("button",{onClick:function(){x(!0)},className:"btn btn-light btn-active-light-primary",children:"Reset Password"})})]})]})})]})}));function C(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(_,{}),(0,c.jsx)(Z,{})]})}var q=(0,n.Pi)((function(){var e=(0,i.TH)(),s=(0,d.a)(),l=s.profile,a=s.roles;return(0,c.jsx)("div",{className:"card mb-5 mb-xl-10",children:(0,c.jsxs)("div",{className:"card-body pt-9 pb-0",children:[(0,c.jsxs)("div",{className:"d-flex flex-wrap flex-sm-nowrap mb-3",children:[(0,c.jsx)("div",{className:"me-7 mb-4",children:(0,c.jsxs)("div",{className:"symbol symbol-100px symbol-lg-160px symbol-fixed position-relative",children:[(0,c.jsx)(p,{imageUrl:null===l||void 0===l?void 0:l.media.original_url,alt:""}),(0,c.jsx)("div",{className:"position-absolute translate-middle bottom-0 start-100 mb-6 bg-success rounded-circle border border-4 border-white h-20px w-20px"})]})}),(0,c.jsx)("div",{className:"flex-grow-1",children:(0,c.jsx)("div",{className:"d-flex justify-content-between align-items-start flex-wrap mb-2",children:(0,c.jsxs)("div",{className:"d-flex flex-column",children:[(0,c.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,c.jsx)("a",{href:"#",className:"text-gray-800 text-hover-primary fs-2 fw-bolder me-1",children:null===l||void 0===l?void 0:l.fullname}),(0,c.jsx)("a",{href:"#",children:(0,c.jsx)(g.D8,{path:"/media/icons/duotune/general/gen026.svg",className:"svg-icon-1 svg-icon-primary"})})]}),(0,c.jsxs)("div",{className:"d-flex flex-wrap fw-bold fs-6 mb-4 pe-2",children:[a.length>0?(0,c.jsxs)("a",{href:"#",className:"d-flex align-items-center text-gray-400 text-hover-primary me-5 mb-2",children:[(0,c.jsx)(g.D8,{path:"/media/icons/duotune/communication/com006.svg",className:"svg-icon-4 me-1"}),a[0].name,"..."]}):null,(0,c.jsxs)("a",{href:"#",className:"d-flex align-items-center text-gray-400 text-hover-primary me-5 mb-2",children:[(0,c.jsx)(g.D8,{path:"/media/icons/duotune/general/gen018.svg",className:"svg-icon-4 me-1"}),null===l||void 0===l?void 0:l.telephone]}),(0,c.jsxs)("a",{href:"#",className:"d-flex align-items-center text-gray-400 text-hover-primary mb-2",children:[(0,c.jsx)(g.D8,{path:"/media/icons/duotune/communication/com011.svg",className:"svg-icon-4 me-1"}),null===l||void 0===l?void 0:l.email]})]})]})})})]}),(0,c.jsx)("div",{className:"d-flex overflow-auto h-55px",children:(0,c.jsxs)("ul",{className:"nav nav-stretch nav-line-tabs nav-line-tabs-2x border-transparent fs-5 fw-bolder flex-nowrap",children:[(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsx)(o.rU,{className:"nav-link text-active-primary me-6 "+("/crafted/account/overview"===e.pathname&&"active"),to:"/crafted/account/overview",children:"Overview"})}),(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsx)(o.rU,{className:"nav-link text-active-primary me-6 "+("/crafted/account/settings"===e.pathname&&"active"),to:"/crafted/account/settings",children:"Settings"})})]})})]})})})),S=[{title:"Account",path:"/crafted/account/overview",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}],A=function(){return(0,c.jsx)(i.Z5,{children:(0,c.jsxs)(i.AW,{element:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(q,{}),(0,c.jsx)(i.j3,{})]}),children:[(0,c.jsx)(i.AW,{path:"overview",element:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.V1,{breadcrumbs:S,children:"Overview"}),(0,c.jsx)(t,{})]})}),(0,c.jsx)(i.AW,{path:"settings",element:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.V1,{breadcrumbs:S,children:"Settings"}),(0,c.jsx)(C,{})]})}),(0,c.jsx)(i.AW,{index:!0,element:(0,c.jsx)(i.Fg,{to:"/crafted/account/overview"})})]})})}}}]);
//# sourceMappingURL=248.958820f7.chunk.js.map